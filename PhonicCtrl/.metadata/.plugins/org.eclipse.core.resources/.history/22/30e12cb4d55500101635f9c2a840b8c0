package com.threefiftynice.android.phonicbot;

import android.app.Activity;
import android.os.Bundle;
import android.util.DisplayMetrics;
import android.util.Log;
import android.view.Display;
import android.view.WindowManager;

import com.MobileAnarchy.Android.Widgets.Joystick.JoystickMovedListener;
import com.MobileAnarchy.Android.Widgets.Joystick.JoystickView;

public class PhonicBot extends Activity {
	protected static final String LOG_TAG = PhonicBot.class.getSimpleName();
	
	JoystickView jvDrive, jvLook;
		
	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.phonic);

		/* First, get the Display from the WindowManager */
		Display display = ((WindowManager) getSystemService(WINDOW_SERVICE)).getDefaultDisplay();

		/* Now we can retrieve all display-related infos */
		int width = display.getWidth();
		int height = display.getHeight();
		int orientation = display.getOrientation();
		
		if ( orientation == 2 ) {
			setupUI();			
		}
	}

	private void setupUI() {
		jvDrive = (JoystickView)findViewById(R.id.joystickView);
		jvDrive.setOnJostickMovedListener( new JoystickMovedListener() {
			@Override
			public void OnMoved(int pan, int tilt) {
				Log.i(LOG_TAG, pan + "," + tilt);
			}

			@Override
			public void OnReleased() {
			}
		});
	}
}